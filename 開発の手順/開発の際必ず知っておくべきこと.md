# 開発の際必ず知っておくべきこと

## このマニュアルを理解するのに必要な前提知識

- [開発の手順](./開発の手順.md)に書かれた内容が理解できること。

## 1. PR(プルリクエスト)について

複数人で開発する際は、各々の改変がごちゃ混ぜになることを防ぐために、PR(プルリクエスト)を立てて、一人一人の変更を分けてメインブランチに反映させる。  
これをする際には、**プログラムを編集する前に**ブランチを切る等の作業が必要になる。  
詳しくは[PR(プルリクエスト)の方法](<./PR(プルリクエスト)の方法.md>)を参照。

## 2. Git 管理下にあるファイルの移動や名前の変更には`git mv`を使うべき?

Git を使ったリポジトリで、コミット済みのファイルの場所や名前を変更する際は、かならずターミナルから`git mv`コマンドを使って変更する(mv は move の意)。  
これを使わないとファイルを削除して別のファイルを新たに作成したことになり、変更履歴が引き継がれない。

...と一般的に言われているが、同じファイルとしてみなす変更前後の類似度の閾値があり、あまりに中身を変更しすぎると`git mv`を使っても別ファイルとして認識する。  
逆にいえば、閾値以下だと`git mv`しなくてもステージングの段階で同じファイルだと認識されるので、佐々木的には`git mv`を使う必要はないと考えている。  
また、[このサイト](https://zenn.dev/yoichi/articles/how-git-handles-renaming)によればそもそも git はファイルのリネームを記録せず、`git log`や`git diff`が実行されたときにリネームかどうかを検出しているとのことなので、やはり`git mv`はしなくてよいのではないかと思う。  
ただ、一般的には言われているし、一応載せておく。

使用例は以下。

```shell
# git mv 変更前のファイルパス 変更後のファイルパス

# すでにコミット済みのファイルtest.pyをtest2.pyという名前に変更する場合
git mv test.py test2.py

# すでにコミット済みのフォルダfolder1をfolder2という名前に変更する場合
git mv folder1 folder2

# すでにコミット済みで、カレントディレクトリ内の全ての拡張子が.pyであるファイルをnew_folderの中に移動する場合
mkdir new_folder
git mv *.py new_folder

# すでにコミット済みで、folder1内のサブディレクトリ内も含めた全てのファイルをnew_folder直下に移動する場合
mkdir new_folder
git mv folder1/**/* new_folder
```

`*`、`**`はワイルドカードという。  
また、サブディレクトリはディレクトリの中のディレクトリのことである。  
なお、Git に関係ないファイルやコミットしていないファイルの場所や名前の変更には`mv`コマンドが使える。

```shell
mv 変更前のファイルパス 変更後のファイルパス
```
